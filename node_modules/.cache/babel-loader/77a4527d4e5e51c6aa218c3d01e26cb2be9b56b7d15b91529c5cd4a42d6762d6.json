{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDiff = void 0;\nvar _factory = require(\"../../utils/factory.js\");\nvar _number = require(\"../../utils/number.js\");\nvar _is = require(\"../../utils/is.js\");\nvar name = 'diff';\nvar dependencies = ['typed', 'matrix', 'subtract', 'number'];\nvar createDiff = /* #__PURE__ */(0, _factory.factory)(name, dependencies, function (_ref) {\n  var typed = _ref.typed,\n    matrix = _ref.matrix,\n    subtract = _ref.subtract,\n    number = _ref.number;\n\n  /**\n   * Create a new matrix or array of the difference between elements of the given array\n   * The optional dim parameter lets you specify the dimension to evaluate the difference of\n   * If no dimension parameter is passed it is assumed as dimension 0\n   *\n   * Dimension is zero-based in javascript and one-based in the parser and can be a number or bignumber\n   * Arrays must be 'rectangular' meaning arrays like [1, 2]\n   * If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays\n   *\n   * Syntax:\n   *\n   *     math.diff(arr)\n   *     math.diff(arr, dim)\n   *\n   * Examples:\n   *\n   *     const arr = [1, 2, 4, 7, 0]\n   *     math.diff(arr) // returns [1, 2, 3, -7] (no dimension passed so 0 is assumed)\n   *     math.diff(math.matrix(arr)) // returns math.matrix([1, 2, 3, -7])\n   *\n   *     const arr = [[1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [9, 8, 7, 6, 4]]\n   *     math.diff(arr) // returns [[0, 0, 0, 0, 0], [8, 6, 4, 2, -1]]\n   *     math.diff(arr, 0) // returns [[0, 0, 0, 0, 0], [8, 6, 4, 2, -1]]\n   *     math.diff(arr, 1) // returns [[1, 1, 1, 1], [1, 1, 1, 1], [-1, -1, -1, -2]]\n   *     math.diff(arr, math.bignumber(1)) // returns [[1, 1, 1, 1], [1, 1, 1, 1], [-1, -1, -1, -2]]\n   *\n   *     math.diff(arr, 2) // throws RangeError as arr is 2 dimensional not 3\n   *     math.diff(arr, -1) // throws RangeError as negative dimensions are not allowed\n   *\n   *     // These will all produce the same result\n   *     math.diff([[1, 2], [3, 4]])\n   *     math.diff([math.matrix([1, 2]), math.matrix([3, 4])])\n   *     math.diff([[1, 2], math.matrix([3, 4])])\n   *     math.diff([math.matrix([1, 2]), [3, 4]])\n   *     // They do not produce the same result as  math.diff(math.matrix([[1, 2], [3, 4]])) as this returns a matrix\n   *\n   * See Also:\n   *\n   *      sum\n   *      subtract\n   *      partitionSelect\n   *\n   * @param {Array | Matrix} arr    An array or matrix\n   * @param {number} dim            Dimension\n   * @return {Array | Matrix}       Difference between array elements in given dimension\n   */\n  return typed(name, {\n    'Array | Matrix': function ArrayMatrix(arr) {\n      // No dimension specified => assume dimension 0\n      if ((0, _is.isMatrix)(arr)) {\n        return matrix(_diff(arr.toArray()));\n      } else {\n        return _diff(arr);\n      }\n    },\n    'Array | Matrix, number': function ArrayMatrixNumber(arr, dim) {\n      if (!(0, _number.isInteger)(dim)) throw new RangeError('Dimension must be a whole number');\n      if ((0, _is.isMatrix)(arr)) {\n        return matrix(_recursive(arr.toArray(), dim));\n      } else {\n        return _recursive(arr, dim);\n      }\n    },\n    'Array | Matrix, BigNumber': function ArrayMatrixBigNumber(arr, dim) {\n      return this(arr, number(dim));\n    }\n  });\n  /**\n   * Recursively find the correct dimension in the array/matrix\n   * Then Apply _diff to that dimension\n   *\n   * @param {Array} arr      The array\n   * @param {number} dim     Dimension\n   * @return {Array}         resulting array\n   */\n\n  function _recursive(arr, dim) {\n    if ((0, _is.isMatrix)(arr)) {\n      arr = arr.toArray(); // Makes sure arrays like [ matrix([0, 1]), matrix([1, 0]) ] are processed properly\n    }\n\n    if (!Array.isArray(arr)) {\n      throw RangeError('Array/Matrix does not have that many dimensions');\n    }\n    if (dim > 0) {\n      var result = [];\n      arr.forEach(function (element) {\n        result.push(_recursive(element, dim - 1));\n      });\n      return result;\n    } else if (dim === 0) {\n      return _diff(arr);\n    } else {\n      throw RangeError('Cannot have negative dimension');\n    }\n  }\n  /**\n   * Difference between elements in the array\n   *\n   * @param {Array} arr      An array\n   * @return {Array}         resulting array\n   */\n\n  function _diff(arr) {\n    var result = [];\n    var size = arr.length;\n    if (size < 2) {\n      return arr;\n    }\n    for (var i = 1; i < size; i++) {\n      result.push(_ElementDiff(arr[i - 1], arr[i]));\n    }\n    return result;\n  }\n  /**\n   * Difference between 2 objects\n   *\n   * @param {Object} obj1    First object\n   * @param {Object} obj2    Second object\n   * @return {Array}         resulting array\n   */\n\n  function _ElementDiff(obj1, obj2) {\n    // Convert matrices to arrays\n    if ((0, _is.isMatrix)(obj1)) obj1 = obj1.toArray();\n    if ((0, _is.isMatrix)(obj2)) obj2 = obj2.toArray();\n    var obj1IsArray = Array.isArray(obj1);\n    var obj2IsArray = Array.isArray(obj2);\n    if (obj1IsArray && obj2IsArray) {\n      return _ArrayDiff(obj1, obj2);\n    }\n    if (!obj1IsArray && !obj2IsArray) {\n      return subtract(obj2, obj1); // Difference is (second - first) NOT (first - second)\n    }\n\n    throw TypeError('Cannot calculate difference between 1 array and 1 non-array');\n  }\n  /**\n   * Difference of elements in 2 arrays\n   *\n   * @param {Array} arr1     Array 1\n   * @param {Array} arr2     Array 2\n   * @return {Array}         resulting array\n   */\n\n  function _ArrayDiff(arr1, arr2) {\n    if (arr1.length !== arr2.length) {\n      throw RangeError('Not all sub-arrays have the same length');\n    }\n    var result = [];\n    var size = arr1.length;\n    for (var i = 0; i < size; i++) {\n      result.push(_ElementDiff(arr1[i], arr2[i]));\n    }\n    return result;\n  }\n});\nexports.createDiff = createDiff;","map":{"version":3,"names":["Object","defineProperty","exports","value","createDiff","_factory","require","_number","_is","name","dependencies","factory","_ref","typed","matrix","subtract","number","ArrayMatrix","arr","isMatrix","_diff","toArray","ArrayMatrixNumber","dim","isInteger","RangeError","_recursive","ArrayMatrixBigNumber","Array","isArray","result","forEach","element","push","size","length","i","_ElementDiff","obj1","obj2","obj1IsArray","obj2IsArray","_ArrayDiff","TypeError","arr1","arr2"],"sources":["/Users/omarbailey/node_modules/mathjs/lib/cjs/function/matrix/diff.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDiff = void 0;\n\nvar _factory = require(\"../../utils/factory.js\");\n\nvar _number = require(\"../../utils/number.js\");\n\nvar _is = require(\"../../utils/is.js\");\n\nvar name = 'diff';\nvar dependencies = ['typed', 'matrix', 'subtract', 'number'];\nvar createDiff = /* #__PURE__ */(0, _factory.factory)(name, dependencies, function (_ref) {\n  var typed = _ref.typed,\n      matrix = _ref.matrix,\n      subtract = _ref.subtract,\n      number = _ref.number;\n\n  /**\n   * Create a new matrix or array of the difference between elements of the given array\n   * The optional dim parameter lets you specify the dimension to evaluate the difference of\n   * If no dimension parameter is passed it is assumed as dimension 0\n   *\n   * Dimension is zero-based in javascript and one-based in the parser and can be a number or bignumber\n   * Arrays must be 'rectangular' meaning arrays like [1, 2]\n   * If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays\n   *\n   * Syntax:\n   *\n   *     math.diff(arr)\n   *     math.diff(arr, dim)\n   *\n   * Examples:\n   *\n   *     const arr = [1, 2, 4, 7, 0]\n   *     math.diff(arr) // returns [1, 2, 3, -7] (no dimension passed so 0 is assumed)\n   *     math.diff(math.matrix(arr)) // returns math.matrix([1, 2, 3, -7])\n   *\n   *     const arr = [[1, 2, 3, 4, 5], [1, 2, 3, 4, 5], [9, 8, 7, 6, 4]]\n   *     math.diff(arr) // returns [[0, 0, 0, 0, 0], [8, 6, 4, 2, -1]]\n   *     math.diff(arr, 0) // returns [[0, 0, 0, 0, 0], [8, 6, 4, 2, -1]]\n   *     math.diff(arr, 1) // returns [[1, 1, 1, 1], [1, 1, 1, 1], [-1, -1, -1, -2]]\n   *     math.diff(arr, math.bignumber(1)) // returns [[1, 1, 1, 1], [1, 1, 1, 1], [-1, -1, -1, -2]]\n   *\n   *     math.diff(arr, 2) // throws RangeError as arr is 2 dimensional not 3\n   *     math.diff(arr, -1) // throws RangeError as negative dimensions are not allowed\n   *\n   *     // These will all produce the same result\n   *     math.diff([[1, 2], [3, 4]])\n   *     math.diff([math.matrix([1, 2]), math.matrix([3, 4])])\n   *     math.diff([[1, 2], math.matrix([3, 4])])\n   *     math.diff([math.matrix([1, 2]), [3, 4]])\n   *     // They do not produce the same result as  math.diff(math.matrix([[1, 2], [3, 4]])) as this returns a matrix\n   *\n   * See Also:\n   *\n   *      sum\n   *      subtract\n   *      partitionSelect\n   *\n   * @param {Array | Matrix} arr    An array or matrix\n   * @param {number} dim            Dimension\n   * @return {Array | Matrix}       Difference between array elements in given dimension\n   */\n  return typed(name, {\n    'Array | Matrix': function ArrayMatrix(arr) {\n      // No dimension specified => assume dimension 0\n      if ((0, _is.isMatrix)(arr)) {\n        return matrix(_diff(arr.toArray()));\n      } else {\n        return _diff(arr);\n      }\n    },\n    'Array | Matrix, number': function ArrayMatrixNumber(arr, dim) {\n      if (!(0, _number.isInteger)(dim)) throw new RangeError('Dimension must be a whole number');\n\n      if ((0, _is.isMatrix)(arr)) {\n        return matrix(_recursive(arr.toArray(), dim));\n      } else {\n        return _recursive(arr, dim);\n      }\n    },\n    'Array | Matrix, BigNumber': function ArrayMatrixBigNumber(arr, dim) {\n      return this(arr, number(dim));\n    }\n  });\n  /**\n   * Recursively find the correct dimension in the array/matrix\n   * Then Apply _diff to that dimension\n   *\n   * @param {Array} arr      The array\n   * @param {number} dim     Dimension\n   * @return {Array}         resulting array\n   */\n\n  function _recursive(arr, dim) {\n    if ((0, _is.isMatrix)(arr)) {\n      arr = arr.toArray(); // Makes sure arrays like [ matrix([0, 1]), matrix([1, 0]) ] are processed properly\n    }\n\n    if (!Array.isArray(arr)) {\n      throw RangeError('Array/Matrix does not have that many dimensions');\n    }\n\n    if (dim > 0) {\n      var result = [];\n      arr.forEach(function (element) {\n        result.push(_recursive(element, dim - 1));\n      });\n      return result;\n    } else if (dim === 0) {\n      return _diff(arr);\n    } else {\n      throw RangeError('Cannot have negative dimension');\n    }\n  }\n  /**\n   * Difference between elements in the array\n   *\n   * @param {Array} arr      An array\n   * @return {Array}         resulting array\n   */\n\n\n  function _diff(arr) {\n    var result = [];\n    var size = arr.length;\n\n    if (size < 2) {\n      return arr;\n    }\n\n    for (var i = 1; i < size; i++) {\n      result.push(_ElementDiff(arr[i - 1], arr[i]));\n    }\n\n    return result;\n  }\n  /**\n   * Difference between 2 objects\n   *\n   * @param {Object} obj1    First object\n   * @param {Object} obj2    Second object\n   * @return {Array}         resulting array\n   */\n\n\n  function _ElementDiff(obj1, obj2) {\n    // Convert matrices to arrays\n    if ((0, _is.isMatrix)(obj1)) obj1 = obj1.toArray();\n    if ((0, _is.isMatrix)(obj2)) obj2 = obj2.toArray();\n    var obj1IsArray = Array.isArray(obj1);\n    var obj2IsArray = Array.isArray(obj2);\n\n    if (obj1IsArray && obj2IsArray) {\n      return _ArrayDiff(obj1, obj2);\n    }\n\n    if (!obj1IsArray && !obj2IsArray) {\n      return subtract(obj2, obj1); // Difference is (second - first) NOT (first - second)\n    }\n\n    throw TypeError('Cannot calculate difference between 1 array and 1 non-array');\n  }\n  /**\n   * Difference of elements in 2 arrays\n   *\n   * @param {Array} arr1     Array 1\n   * @param {Array} arr2     Array 2\n   * @return {Array}         resulting array\n   */\n\n\n  function _ArrayDiff(arr1, arr2) {\n    if (arr1.length !== arr2.length) {\n      throw RangeError('Not all sub-arrays have the same length');\n    }\n\n    var result = [];\n    var size = arr1.length;\n\n    for (var i = 0; i < size; i++) {\n      result.push(_ElementDiff(arr1[i], arr2[i]));\n    }\n\n    return result;\n  }\n});\nexports.createDiff = createDiff;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}