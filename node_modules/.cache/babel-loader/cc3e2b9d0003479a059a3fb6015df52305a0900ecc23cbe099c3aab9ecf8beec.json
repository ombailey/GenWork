{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSqrtm = void 0;\nvar _is = require(\"../../utils/is.js\");\nvar _string = require(\"../../utils/string.js\");\nvar _array = require(\"../../utils/array.js\");\nvar _factory = require(\"../../utils/factory.js\");\nvar name = 'sqrtm';\nvar dependencies = ['typed', 'abs', 'add', 'multiply', 'sqrt', 'subtract', 'inv', 'size', 'max', 'identity'];\nvar createSqrtm = /* #__PURE__ */(0, _factory.factory)(name, dependencies, function (_ref) {\n  var typed = _ref.typed,\n    abs = _ref.abs,\n    add = _ref.add,\n    multiply = _ref.multiply,\n    sqrt = _ref.sqrt,\n    subtract = _ref.subtract,\n    inv = _ref.inv,\n    size = _ref.size,\n    max = _ref.max,\n    identity = _ref.identity;\n  var _maxIterations = 1e3;\n  var _tolerance = 1e-6;\n  /**\n   * Calculate the principal square root matrix using the Denman–Beavers iterative method\n   *\n   * https://en.wikipedia.org/wiki/Square_root_of_a_matrix#By_Denman–Beavers_iteration\n   *\n   * @param  {Array | Matrix} A   The square matrix `A`\n   * @return {Array | Matrix}     The principal square root of matrix `A`\n   * @private\n   */\n\n  function _denmanBeavers(A) {\n    var error;\n    var iterations = 0;\n    var Y = A;\n    var Z = identity(size(A));\n    do {\n      var Yk = Y;\n      Y = multiply(0.5, add(Yk, inv(Z)));\n      Z = multiply(0.5, add(Z, inv(Yk)));\n      error = max(abs(subtract(Y, Yk)));\n      if (error > _tolerance && ++iterations > _maxIterations) {\n        throw new Error('computing square root of matrix: iterative method could not converge');\n      }\n    } while (error > _tolerance);\n    return Y;\n  }\n  /**\n   * Calculate the principal square root of a square matrix.\n   * The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.\n   *\n   * https://en.wikipedia.org/wiki/Square_root_of_a_matrix\n   *\n   * Syntax:\n   *\n   *     X = math.sqrtm(A)\n   *\n   * Examples:\n   *\n   *     math.sqrtm([[1, 2], [3, 4]]) // returns [[-2, 1], [1.5, -0.5]]\n   *\n   * See also:\n   *\n   *     sqrt, pow\n   *\n   * @param  {Array | Matrix} A   The square matrix `A`\n   * @return {Array | Matrix}     The principal square root of matrix `A`\n   */\n\n  return typed(name, {\n    'Array | Matrix': function ArrayMatrix(A) {\n      var size = (0, _is.isMatrix)(A) ? A.size() : (0, _array.arraySize)(A);\n      switch (size.length) {\n        case 1:\n          // Single element Array | Matrix\n          if (size[0] === 1) {\n            return sqrt(A);\n          } else {\n            throw new RangeError('Matrix must be square ' + '(size: ' + (0, _string.format)(size) + ')');\n          }\n        case 2:\n          {\n            // Two-dimensional Array | Matrix\n            var rows = size[0];\n            var cols = size[1];\n            if (rows === cols) {\n              return _denmanBeavers(A);\n            } else {\n              throw new RangeError('Matrix must be square ' + '(size: ' + (0, _string.format)(size) + ')');\n            }\n          }\n        default:\n          // Multi dimensional array\n          throw new RangeError('Matrix must be at most two dimensional ' + '(size: ' + (0, _string.format)(size) + ')');\n      }\n    }\n  });\n});\nexports.createSqrtm = createSqrtm;","map":{"version":3,"names":["Object","defineProperty","exports","value","createSqrtm","_is","require","_string","_array","_factory","name","dependencies","factory","_ref","typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity","_maxIterations","_tolerance","_denmanBeavers","A","error","iterations","Y","Z","Yk","Error","ArrayMatrix","isMatrix","arraySize","length","RangeError","format","rows","cols"],"sources":["/Users/omarbailey/node_modules/mathjs/lib/cjs/function/matrix/sqrtm.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSqrtm = void 0;\n\nvar _is = require(\"../../utils/is.js\");\n\nvar _string = require(\"../../utils/string.js\");\n\nvar _array = require(\"../../utils/array.js\");\n\nvar _factory = require(\"../../utils/factory.js\");\n\nvar name = 'sqrtm';\nvar dependencies = ['typed', 'abs', 'add', 'multiply', 'sqrt', 'subtract', 'inv', 'size', 'max', 'identity'];\nvar createSqrtm = /* #__PURE__ */(0, _factory.factory)(name, dependencies, function (_ref) {\n  var typed = _ref.typed,\n      abs = _ref.abs,\n      add = _ref.add,\n      multiply = _ref.multiply,\n      sqrt = _ref.sqrt,\n      subtract = _ref.subtract,\n      inv = _ref.inv,\n      size = _ref.size,\n      max = _ref.max,\n      identity = _ref.identity;\n  var _maxIterations = 1e3;\n  var _tolerance = 1e-6;\n  /**\n   * Calculate the principal square root matrix using the Denman–Beavers iterative method\n   *\n   * https://en.wikipedia.org/wiki/Square_root_of_a_matrix#By_Denman–Beavers_iteration\n   *\n   * @param  {Array | Matrix} A   The square matrix `A`\n   * @return {Array | Matrix}     The principal square root of matrix `A`\n   * @private\n   */\n\n  function _denmanBeavers(A) {\n    var error;\n    var iterations = 0;\n    var Y = A;\n    var Z = identity(size(A));\n\n    do {\n      var Yk = Y;\n      Y = multiply(0.5, add(Yk, inv(Z)));\n      Z = multiply(0.5, add(Z, inv(Yk)));\n      error = max(abs(subtract(Y, Yk)));\n\n      if (error > _tolerance && ++iterations > _maxIterations) {\n        throw new Error('computing square root of matrix: iterative method could not converge');\n      }\n    } while (error > _tolerance);\n\n    return Y;\n  }\n  /**\n   * Calculate the principal square root of a square matrix.\n   * The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.\n   *\n   * https://en.wikipedia.org/wiki/Square_root_of_a_matrix\n   *\n   * Syntax:\n   *\n   *     X = math.sqrtm(A)\n   *\n   * Examples:\n   *\n   *     math.sqrtm([[1, 2], [3, 4]]) // returns [[-2, 1], [1.5, -0.5]]\n   *\n   * See also:\n   *\n   *     sqrt, pow\n   *\n   * @param  {Array | Matrix} A   The square matrix `A`\n   * @return {Array | Matrix}     The principal square root of matrix `A`\n   */\n\n\n  return typed(name, {\n    'Array | Matrix': function ArrayMatrix(A) {\n      var size = (0, _is.isMatrix)(A) ? A.size() : (0, _array.arraySize)(A);\n\n      switch (size.length) {\n        case 1:\n          // Single element Array | Matrix\n          if (size[0] === 1) {\n            return sqrt(A);\n          } else {\n            throw new RangeError('Matrix must be square ' + '(size: ' + (0, _string.format)(size) + ')');\n          }\n\n        case 2:\n          {\n            // Two-dimensional Array | Matrix\n            var rows = size[0];\n            var cols = size[1];\n\n            if (rows === cols) {\n              return _denmanBeavers(A);\n            } else {\n              throw new RangeError('Matrix must be square ' + '(size: ' + (0, _string.format)(size) + ')');\n            }\n          }\n\n        default:\n          // Multi dimensional array\n          throw new RangeError('Matrix must be at most two dimensional ' + '(size: ' + (0, _string.format)(size) + ')');\n      }\n    }\n  });\n});\nexports.createSqrtm = createSqrtm;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}