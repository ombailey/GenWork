{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createIntersect = void 0;\nvar _is = require(\"../../utils/is.js\");\nvar _factory = require(\"../../utils/factory.js\");\nvar name = 'intersect';\nvar dependencies = ['typed', 'config', 'abs', 'add', 'addScalar', 'matrix', 'multiply', 'multiplyScalar', 'divideScalar', 'subtract', 'smaller', 'equalScalar', 'flatten'];\nvar createIntersect = /* #__PURE__ */(0, _factory.factory)(name, dependencies, function (_ref) {\n  var typed = _ref.typed,\n    config = _ref.config,\n    abs = _ref.abs,\n    add = _ref.add,\n    addScalar = _ref.addScalar,\n    matrix = _ref.matrix,\n    multiply = _ref.multiply,\n    multiplyScalar = _ref.multiplyScalar,\n    divideScalar = _ref.divideScalar,\n    subtract = _ref.subtract,\n    smaller = _ref.smaller,\n    equalScalar = _ref.equalScalar,\n    flatten = _ref.flatten;\n\n  /**\n   * Calculates the point of intersection of two lines in two or three dimensions\n   * and of a line and a plane in three dimensions. The inputs are in the form of\n   * arrays or 1 dimensional matrices. The line intersection functions return null\n   * if the lines do not meet.\n   *\n   * Note: Fill the plane coefficients as `x + y + z = c` and not as `x + y + z + c = 0`.\n   *\n   * Syntax:\n   *\n   *    math.intersect(endPoint1Line1, endPoint2Line1, endPoint1Line2, endPoint2Line2)\n   *    math.intersect(endPoint1, endPoint2, planeCoefficients)\n   *\n   * Examples:\n   *\n   *    math.intersect([0, 0], [10, 10], [10, 0], [0, 10])              // Returns [5, 5]\n   *    math.intersect([0, 0, 0], [10, 10, 0], [10, 0, 0], [0, 10, 0])  // Returns [5, 5, 0]\n   *    math.intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])            // Returns [7, -4, 3]\n   *\n   * @param  {Array | Matrix} w   Co-ordinates of first end-point of first line\n   * @param  {Array | Matrix} x   Co-ordinates of second end-point of first line\n   * @param  {Array | Matrix} y   Co-ordinates of first end-point of second line\n   *                              OR Co-efficients of the plane's equation\n   * @param  {Array | Matrix} z   Co-ordinates of second end-point of second line\n   *                              OR undefined if the calculation is for line and plane\n   * @return {Array}              Returns the point of intersection of lines/lines-planes\n   */\n  return typed('intersect', {\n    'Array, Array, Array': _AAA,\n    'Array, Array, Array, Array': _AAAA,\n    'Matrix, Matrix, Matrix': function MatrixMatrixMatrix(x, y, plane) {\n      var arr = _AAA(x.valueOf(), y.valueOf(), plane.valueOf());\n      return arr === null ? null : matrix(arr);\n    },\n    'Matrix, Matrix, Matrix, Matrix': function MatrixMatrixMatrixMatrix(w, x, y, z) {\n      // TODO: output matrix type should match input matrix type\n      var arr = _AAAA(w.valueOf(), x.valueOf(), y.valueOf(), z.valueOf());\n      return arr === null ? null : matrix(arr);\n    }\n  });\n  function _AAA(x, y, plane) {\n    x = _coerceArr(x);\n    y = _coerceArr(y);\n    plane = _coerceArr(plane);\n    if (!_3d(x)) {\n      throw new TypeError('Array with 3 numbers or BigNumbers expected for first argument');\n    }\n    if (!_3d(y)) {\n      throw new TypeError('Array with 3 numbers or BigNumbers expected for second argument');\n    }\n    if (!_4d(plane)) {\n      throw new TypeError('Array with 4 numbers expected as third argument');\n    }\n    return _intersectLinePlane(x[0], x[1], x[2], y[0], y[1], y[2], plane[0], plane[1], plane[2], plane[3]);\n  }\n  function _AAAA(w, x, y, z) {\n    w = _coerceArr(w);\n    x = _coerceArr(x);\n    y = _coerceArr(y);\n    z = _coerceArr(z);\n    if (w.length === 2) {\n      if (!_2d(w)) {\n        throw new TypeError('Array with 2 numbers or BigNumbers expected for first argument');\n      }\n      if (!_2d(x)) {\n        throw new TypeError('Array with 2 numbers or BigNumbers expected for second argument');\n      }\n      if (!_2d(y)) {\n        throw new TypeError('Array with 2 numbers or BigNumbers expected for third argument');\n      }\n      if (!_2d(z)) {\n        throw new TypeError('Array with 2 numbers or BigNumbers expected for fourth argument');\n      }\n      return _intersect2d(w, x, y, z);\n    } else if (w.length === 3) {\n      if (!_3d(w)) {\n        throw new TypeError('Array with 3 numbers or BigNumbers expected for first argument');\n      }\n      if (!_3d(x)) {\n        throw new TypeError('Array with 3 numbers or BigNumbers expected for second argument');\n      }\n      if (!_3d(y)) {\n        throw new TypeError('Array with 3 numbers or BigNumbers expected for third argument');\n      }\n      if (!_3d(z)) {\n        throw new TypeError('Array with 3 numbers or BigNumbers expected for fourth argument');\n      }\n      return _intersect3d(w[0], w[1], w[2], x[0], x[1], x[2], y[0], y[1], y[2], z[0], z[1], z[2]);\n    } else {\n      throw new TypeError('Arrays with two or thee dimensional points expected');\n    }\n  }\n  /** Coerce row and column 2-dim arrays to 1-dim array */\n\n  function _coerceArr(arr) {\n    // row matrix\n    if (arr.length === 1) return arr[0]; // column matrix\n\n    if (arr.length > 1 && Array.isArray(arr[0])) {\n      if (arr.every(function (el) {\n        return Array.isArray(el) && el.length === 1;\n      })) return flatten(arr);\n    }\n    return arr;\n  }\n  function _isNumeric(a) {\n    // intersect supports numbers and bignumbers\n    return typeof a === 'number' || (0, _is.isBigNumber)(a);\n  }\n  function _2d(x) {\n    return x.length === 2 && _isNumeric(x[0]) && _isNumeric(x[1]);\n  }\n  function _3d(x) {\n    return x.length === 3 && _isNumeric(x[0]) && _isNumeric(x[1]) && _isNumeric(x[2]);\n  }\n  function _4d(x) {\n    return x.length === 4 && _isNumeric(x[0]) && _isNumeric(x[1]) && _isNumeric(x[2]) && _isNumeric(x[3]);\n  }\n  function _intersect2d(p1a, p1b, p2a, p2b) {\n    var o1 = p1a;\n    var o2 = p2a;\n    var d1 = subtract(o1, p1b);\n    var d2 = subtract(o2, p2b);\n    var det = subtract(multiplyScalar(d1[0], d2[1]), multiplyScalar(d2[0], d1[1]));\n    if (smaller(abs(det), config.epsilon)) {\n      return null;\n    }\n    var d20o11 = multiplyScalar(d2[0], o1[1]);\n    var d21o10 = multiplyScalar(d2[1], o1[0]);\n    var d20o21 = multiplyScalar(d2[0], o2[1]);\n    var d21o20 = multiplyScalar(d2[1], o2[0]);\n    var t = divideScalar(addScalar(subtract(subtract(d20o11, d21o10), d20o21), d21o20), det);\n    return add(multiply(d1, t), o1);\n  }\n  function _intersect3dHelper(a, b, c, d, e, f, g, h, i, j, k, l) {\n    // (a - b)*(c - d) + (e - f)*(g - h) + (i - j)*(k - l)\n    var add1 = multiplyScalar(subtract(a, b), subtract(c, d));\n    var add2 = multiplyScalar(subtract(e, f), subtract(g, h));\n    var add3 = multiplyScalar(subtract(i, j), subtract(k, l));\n    return addScalar(addScalar(add1, add2), add3);\n  }\n  function _intersect3d(x1, y1, z1, x2, y2, z2, x3, y3, z3, x4, y4, z4) {\n    var d1343 = _intersect3dHelper(x1, x3, x4, x3, y1, y3, y4, y3, z1, z3, z4, z3);\n    var d4321 = _intersect3dHelper(x4, x3, x2, x1, y4, y3, y2, y1, z4, z3, z2, z1);\n    var d1321 = _intersect3dHelper(x1, x3, x2, x1, y1, y3, y2, y1, z1, z3, z2, z1);\n    var d4343 = _intersect3dHelper(x4, x3, x4, x3, y4, y3, y4, y3, z4, z3, z4, z3);\n    var d2121 = _intersect3dHelper(x2, x1, x2, x1, y2, y1, y2, y1, z2, z1, z2, z1);\n    var ta = divideScalar(subtract(multiplyScalar(d1343, d4321), multiplyScalar(d1321, d4343)), subtract(multiplyScalar(d2121, d4343), multiplyScalar(d4321, d4321)));\n    var tb = divideScalar(addScalar(d1343, multiplyScalar(ta, d4321)), d4343);\n    var pax = addScalar(x1, multiplyScalar(ta, subtract(x2, x1)));\n    var pay = addScalar(y1, multiplyScalar(ta, subtract(y2, y1)));\n    var paz = addScalar(z1, multiplyScalar(ta, subtract(z2, z1)));\n    var pbx = addScalar(x3, multiplyScalar(tb, subtract(x4, x3)));\n    var pby = addScalar(y3, multiplyScalar(tb, subtract(y4, y3)));\n    var pbz = addScalar(z3, multiplyScalar(tb, subtract(z4, z3)));\n    if (equalScalar(pax, pbx) && equalScalar(pay, pby) && equalScalar(paz, pbz)) {\n      return [pax, pay, paz];\n    } else {\n      return null;\n    }\n  }\n  function _intersectLinePlane(x1, y1, z1, x2, y2, z2, x, y, z, c) {\n    var x1x = multiplyScalar(x1, x);\n    var x2x = multiplyScalar(x2, x);\n    var y1y = multiplyScalar(y1, y);\n    var y2y = multiplyScalar(y2, y);\n    var z1z = multiplyScalar(z1, z);\n    var z2z = multiplyScalar(z2, z);\n    var numerator = subtract(subtract(subtract(c, x1x), y1y), z1z);\n    var denominator = subtract(subtract(subtract(addScalar(addScalar(x2x, y2y), z2z), x1x), y1y), z1z);\n    var t = divideScalar(numerator, denominator);\n    var px = addScalar(x1, multiplyScalar(t, subtract(x2, x1)));\n    var py = addScalar(y1, multiplyScalar(t, subtract(y2, y1)));\n    var pz = addScalar(z1, multiplyScalar(t, subtract(z2, z1)));\n    return [px, py, pz]; // TODO: Add cases when line is parallel to the plane:\n    //       (a) no intersection,\n    //       (b) line contained in plane\n  }\n});\n\nexports.createIntersect = createIntersect;","map":{"version":3,"names":["Object","defineProperty","exports","value","createIntersect","_is","require","_factory","name","dependencies","factory","_ref","typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","_AAA","_AAAA","MatrixMatrixMatrix","x","y","plane","arr","valueOf","MatrixMatrixMatrixMatrix","w","z","_coerceArr","_3d","TypeError","_4d","_intersectLinePlane","length","_2d","_intersect2d","_intersect3d","Array","isArray","every","el","_isNumeric","a","isBigNumber","p1a","p1b","p2a","p2b","o1","o2","d1","d2","det","epsilon","d20o11","d21o10","d20o21","d21o20","t","_intersect3dHelper","b","c","d","e","f","g","h","i","j","k","l","add1","add2","add3","x1","y1","z1","x2","y2","z2","x3","y3","z3","x4","y4","z4","d1343","d4321","d1321","d4343","d2121","ta","tb","pax","pay","paz","pbx","pby","pbz","x1x","x2x","y1y","y2y","z1z","z2z","numerator","denominator","px","py","pz"],"sources":["/Users/omarbailey/node_modules/mathjs/lib/cjs/function/geometry/intersect.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createIntersect = void 0;\n\nvar _is = require(\"../../utils/is.js\");\n\nvar _factory = require(\"../../utils/factory.js\");\n\nvar name = 'intersect';\nvar dependencies = ['typed', 'config', 'abs', 'add', 'addScalar', 'matrix', 'multiply', 'multiplyScalar', 'divideScalar', 'subtract', 'smaller', 'equalScalar', 'flatten'];\nvar createIntersect = /* #__PURE__ */(0, _factory.factory)(name, dependencies, function (_ref) {\n  var typed = _ref.typed,\n      config = _ref.config,\n      abs = _ref.abs,\n      add = _ref.add,\n      addScalar = _ref.addScalar,\n      matrix = _ref.matrix,\n      multiply = _ref.multiply,\n      multiplyScalar = _ref.multiplyScalar,\n      divideScalar = _ref.divideScalar,\n      subtract = _ref.subtract,\n      smaller = _ref.smaller,\n      equalScalar = _ref.equalScalar,\n      flatten = _ref.flatten;\n\n  /**\n   * Calculates the point of intersection of two lines in two or three dimensions\n   * and of a line and a plane in three dimensions. The inputs are in the form of\n   * arrays or 1 dimensional matrices. The line intersection functions return null\n   * if the lines do not meet.\n   *\n   * Note: Fill the plane coefficients as `x + y + z = c` and not as `x + y + z + c = 0`.\n   *\n   * Syntax:\n   *\n   *    math.intersect(endPoint1Line1, endPoint2Line1, endPoint1Line2, endPoint2Line2)\n   *    math.intersect(endPoint1, endPoint2, planeCoefficients)\n   *\n   * Examples:\n   *\n   *    math.intersect([0, 0], [10, 10], [10, 0], [0, 10])              // Returns [5, 5]\n   *    math.intersect([0, 0, 0], [10, 10, 0], [10, 0, 0], [0, 10, 0])  // Returns [5, 5, 0]\n   *    math.intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])            // Returns [7, -4, 3]\n   *\n   * @param  {Array | Matrix} w   Co-ordinates of first end-point of first line\n   * @param  {Array | Matrix} x   Co-ordinates of second end-point of first line\n   * @param  {Array | Matrix} y   Co-ordinates of first end-point of second line\n   *                              OR Co-efficients of the plane's equation\n   * @param  {Array | Matrix} z   Co-ordinates of second end-point of second line\n   *                              OR undefined if the calculation is for line and plane\n   * @return {Array}              Returns the point of intersection of lines/lines-planes\n   */\n  return typed('intersect', {\n    'Array, Array, Array': _AAA,\n    'Array, Array, Array, Array': _AAAA,\n    'Matrix, Matrix, Matrix': function MatrixMatrixMatrix(x, y, plane) {\n      var arr = _AAA(x.valueOf(), y.valueOf(), plane.valueOf());\n\n      return arr === null ? null : matrix(arr);\n    },\n    'Matrix, Matrix, Matrix, Matrix': function MatrixMatrixMatrixMatrix(w, x, y, z) {\n      // TODO: output matrix type should match input matrix type\n      var arr = _AAAA(w.valueOf(), x.valueOf(), y.valueOf(), z.valueOf());\n\n      return arr === null ? null : matrix(arr);\n    }\n  });\n\n  function _AAA(x, y, plane) {\n    x = _coerceArr(x);\n    y = _coerceArr(y);\n    plane = _coerceArr(plane);\n\n    if (!_3d(x)) {\n      throw new TypeError('Array with 3 numbers or BigNumbers expected for first argument');\n    }\n\n    if (!_3d(y)) {\n      throw new TypeError('Array with 3 numbers or BigNumbers expected for second argument');\n    }\n\n    if (!_4d(plane)) {\n      throw new TypeError('Array with 4 numbers expected as third argument');\n    }\n\n    return _intersectLinePlane(x[0], x[1], x[2], y[0], y[1], y[2], plane[0], plane[1], plane[2], plane[3]);\n  }\n\n  function _AAAA(w, x, y, z) {\n    w = _coerceArr(w);\n    x = _coerceArr(x);\n    y = _coerceArr(y);\n    z = _coerceArr(z);\n\n    if (w.length === 2) {\n      if (!_2d(w)) {\n        throw new TypeError('Array with 2 numbers or BigNumbers expected for first argument');\n      }\n\n      if (!_2d(x)) {\n        throw new TypeError('Array with 2 numbers or BigNumbers expected for second argument');\n      }\n\n      if (!_2d(y)) {\n        throw new TypeError('Array with 2 numbers or BigNumbers expected for third argument');\n      }\n\n      if (!_2d(z)) {\n        throw new TypeError('Array with 2 numbers or BigNumbers expected for fourth argument');\n      }\n\n      return _intersect2d(w, x, y, z);\n    } else if (w.length === 3) {\n      if (!_3d(w)) {\n        throw new TypeError('Array with 3 numbers or BigNumbers expected for first argument');\n      }\n\n      if (!_3d(x)) {\n        throw new TypeError('Array with 3 numbers or BigNumbers expected for second argument');\n      }\n\n      if (!_3d(y)) {\n        throw new TypeError('Array with 3 numbers or BigNumbers expected for third argument');\n      }\n\n      if (!_3d(z)) {\n        throw new TypeError('Array with 3 numbers or BigNumbers expected for fourth argument');\n      }\n\n      return _intersect3d(w[0], w[1], w[2], x[0], x[1], x[2], y[0], y[1], y[2], z[0], z[1], z[2]);\n    } else {\n      throw new TypeError('Arrays with two or thee dimensional points expected');\n    }\n  }\n  /** Coerce row and column 2-dim arrays to 1-dim array */\n\n\n  function _coerceArr(arr) {\n    // row matrix\n    if (arr.length === 1) return arr[0]; // column matrix\n\n    if (arr.length > 1 && Array.isArray(arr[0])) {\n      if (arr.every(function (el) {\n        return Array.isArray(el) && el.length === 1;\n      })) return flatten(arr);\n    }\n\n    return arr;\n  }\n\n  function _isNumeric(a) {\n    // intersect supports numbers and bignumbers\n    return typeof a === 'number' || (0, _is.isBigNumber)(a);\n  }\n\n  function _2d(x) {\n    return x.length === 2 && _isNumeric(x[0]) && _isNumeric(x[1]);\n  }\n\n  function _3d(x) {\n    return x.length === 3 && _isNumeric(x[0]) && _isNumeric(x[1]) && _isNumeric(x[2]);\n  }\n\n  function _4d(x) {\n    return x.length === 4 && _isNumeric(x[0]) && _isNumeric(x[1]) && _isNumeric(x[2]) && _isNumeric(x[3]);\n  }\n\n  function _intersect2d(p1a, p1b, p2a, p2b) {\n    var o1 = p1a;\n    var o2 = p2a;\n    var d1 = subtract(o1, p1b);\n    var d2 = subtract(o2, p2b);\n    var det = subtract(multiplyScalar(d1[0], d2[1]), multiplyScalar(d2[0], d1[1]));\n\n    if (smaller(abs(det), config.epsilon)) {\n      return null;\n    }\n\n    var d20o11 = multiplyScalar(d2[0], o1[1]);\n    var d21o10 = multiplyScalar(d2[1], o1[0]);\n    var d20o21 = multiplyScalar(d2[0], o2[1]);\n    var d21o20 = multiplyScalar(d2[1], o2[0]);\n    var t = divideScalar(addScalar(subtract(subtract(d20o11, d21o10), d20o21), d21o20), det);\n    return add(multiply(d1, t), o1);\n  }\n\n  function _intersect3dHelper(a, b, c, d, e, f, g, h, i, j, k, l) {\n    // (a - b)*(c - d) + (e - f)*(g - h) + (i - j)*(k - l)\n    var add1 = multiplyScalar(subtract(a, b), subtract(c, d));\n    var add2 = multiplyScalar(subtract(e, f), subtract(g, h));\n    var add3 = multiplyScalar(subtract(i, j), subtract(k, l));\n    return addScalar(addScalar(add1, add2), add3);\n  }\n\n  function _intersect3d(x1, y1, z1, x2, y2, z2, x3, y3, z3, x4, y4, z4) {\n    var d1343 = _intersect3dHelper(x1, x3, x4, x3, y1, y3, y4, y3, z1, z3, z4, z3);\n\n    var d4321 = _intersect3dHelper(x4, x3, x2, x1, y4, y3, y2, y1, z4, z3, z2, z1);\n\n    var d1321 = _intersect3dHelper(x1, x3, x2, x1, y1, y3, y2, y1, z1, z3, z2, z1);\n\n    var d4343 = _intersect3dHelper(x4, x3, x4, x3, y4, y3, y4, y3, z4, z3, z4, z3);\n\n    var d2121 = _intersect3dHelper(x2, x1, x2, x1, y2, y1, y2, y1, z2, z1, z2, z1);\n\n    var ta = divideScalar(subtract(multiplyScalar(d1343, d4321), multiplyScalar(d1321, d4343)), subtract(multiplyScalar(d2121, d4343), multiplyScalar(d4321, d4321)));\n    var tb = divideScalar(addScalar(d1343, multiplyScalar(ta, d4321)), d4343);\n    var pax = addScalar(x1, multiplyScalar(ta, subtract(x2, x1)));\n    var pay = addScalar(y1, multiplyScalar(ta, subtract(y2, y1)));\n    var paz = addScalar(z1, multiplyScalar(ta, subtract(z2, z1)));\n    var pbx = addScalar(x3, multiplyScalar(tb, subtract(x4, x3)));\n    var pby = addScalar(y3, multiplyScalar(tb, subtract(y4, y3)));\n    var pbz = addScalar(z3, multiplyScalar(tb, subtract(z4, z3)));\n\n    if (equalScalar(pax, pbx) && equalScalar(pay, pby) && equalScalar(paz, pbz)) {\n      return [pax, pay, paz];\n    } else {\n      return null;\n    }\n  }\n\n  function _intersectLinePlane(x1, y1, z1, x2, y2, z2, x, y, z, c) {\n    var x1x = multiplyScalar(x1, x);\n    var x2x = multiplyScalar(x2, x);\n    var y1y = multiplyScalar(y1, y);\n    var y2y = multiplyScalar(y2, y);\n    var z1z = multiplyScalar(z1, z);\n    var z2z = multiplyScalar(z2, z);\n    var numerator = subtract(subtract(subtract(c, x1x), y1y), z1z);\n    var denominator = subtract(subtract(subtract(addScalar(addScalar(x2x, y2y), z2z), x1x), y1y), z1z);\n    var t = divideScalar(numerator, denominator);\n    var px = addScalar(x1, multiplyScalar(t, subtract(x2, x1)));\n    var py = addScalar(y1, multiplyScalar(t, subtract(y2, y1)));\n    var pz = addScalar(z1, multiplyScalar(t, subtract(z2, z1)));\n    return [px, py, pz]; // TODO: Add cases when line is parallel to the plane:\n    //       (a) no intersection,\n    //       (b) line contained in plane\n  }\n});\nexports.createIntersect = createIntersect;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}