{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assignFactory = assignFactory;\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _errorTransform = require(\"../../transform/utils/errorTransform.js\");\nvar _customs = require(\"../../../utils/customs.js\");\nfunction assignFactory(_ref) {\n  var subset = _ref.subset,\n    matrix = _ref.matrix;\n\n  /**\n   * Replace part of an object:\n   *\n   * - Assign a property to an object\n   * - Replace a part of a string\n   * - Replace a matrix subset\n   *\n   * @param {Object | Array | Matrix | string} object\n   * @param {Index} index\n   * @param {*} value\n   * @return {Object | Array | Matrix | string} Returns the original object\n   *                                            except in case of a string\n   */\n  // TODO: change assign to return the value instead of the object\n  return function assign(object, index, value) {\n    try {\n      if (Array.isArray(object)) {\n        // we use matrix.subset here instead of the function subset because we must not clone the contents\n        return matrix(object).subset(index, value).valueOf();\n      } else if (object && typeof object.subset === 'function') {\n        // Matrix\n        return object.subset(index, value);\n      } else if (typeof object === 'string') {\n        // TODO: move setStringSubset into a separate util file, use that\n        return subset(object, index, value);\n      } else if ((0, _typeof2[\"default\"])(object) === 'object') {\n        if (!index.isObjectProperty()) {\n          throw TypeError('Cannot apply a numeric index as object property');\n        }\n        (0, _customs.setSafeProperty)(object, index.getObjectProperty(), value);\n        return object;\n      } else {\n        throw new TypeError('Cannot apply index: unsupported type of object');\n      }\n    } catch (err) {\n      throw (0, _errorTransform.errorTransform)(err);\n    }\n  };\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","assignFactory","_typeof2","_errorTransform","_customs","_ref","subset","matrix","assign","object","index","Array","isArray","valueOf","isObjectProperty","TypeError","setSafeProperty","getObjectProperty","err","errorTransform"],"sources":["/Users/omarbailey/node_modules/mathjs/lib/cjs/expression/node/utils/assign.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assignFactory = assignFactory;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _errorTransform = require(\"../../transform/utils/errorTransform.js\");\n\nvar _customs = require(\"../../../utils/customs.js\");\n\nfunction assignFactory(_ref) {\n  var subset = _ref.subset,\n      matrix = _ref.matrix;\n\n  /**\n   * Replace part of an object:\n   *\n   * - Assign a property to an object\n   * - Replace a part of a string\n   * - Replace a matrix subset\n   *\n   * @param {Object | Array | Matrix | string} object\n   * @param {Index} index\n   * @param {*} value\n   * @return {Object | Array | Matrix | string} Returns the original object\n   *                                            except in case of a string\n   */\n  // TODO: change assign to return the value instead of the object\n  return function assign(object, index, value) {\n    try {\n      if (Array.isArray(object)) {\n        // we use matrix.subset here instead of the function subset because we must not clone the contents\n        return matrix(object).subset(index, value).valueOf();\n      } else if (object && typeof object.subset === 'function') {\n        // Matrix\n        return object.subset(index, value);\n      } else if (typeof object === 'string') {\n        // TODO: move setStringSubset into a separate util file, use that\n        return subset(object, index, value);\n      } else if ((0, _typeof2[\"default\"])(object) === 'object') {\n        if (!index.isObjectProperty()) {\n          throw TypeError('Cannot apply a numeric index as object property');\n        }\n\n        (0, _customs.setSafeProperty)(object, index.getObjectProperty(), value);\n        return object;\n      } else {\n        throw new TypeError('Cannot apply index: unsupported type of object');\n      }\n    } catch (err) {\n      throw (0, _errorTransform.errorTransform)(err);\n    }\n  };\n}"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAA8C,CAAC;AAEpFC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,aAAa,GAAGA,aAAa;AAErC,IAAIC,QAAQ,GAAGP,sBAAsB,CAACC,OAAO,CAAC,+BAA+B,CAAC,CAAC;AAE/E,IAAIO,eAAe,GAAGP,OAAO,CAAC,yCAAyC,CAAC;AAExE,IAAIQ,QAAQ,GAAGR,OAAO,CAAC,2BAA2B,CAAC;AAEnD,SAASK,aAAa,CAACI,IAAI,EAAE;EAC3B,IAAIC,MAAM,GAAGD,IAAI,CAACC,MAAM;IACpBC,MAAM,GAAGF,IAAI,CAACE,MAAM;;EAExB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACE;EACA,OAAO,SAASC,MAAM,CAACC,MAAM,EAAEC,KAAK,EAAEV,KAAK,EAAE;IAC3C,IAAI;MACF,IAAIW,KAAK,CAACC,OAAO,CAACH,MAAM,CAAC,EAAE;QACzB;QACA,OAAOF,MAAM,CAACE,MAAM,CAAC,CAACH,MAAM,CAACI,KAAK,EAAEV,KAAK,CAAC,CAACa,OAAO,EAAE;MACtD,CAAC,MAAM,IAAIJ,MAAM,IAAI,OAAOA,MAAM,CAACH,MAAM,KAAK,UAAU,EAAE;QACxD;QACA,OAAOG,MAAM,CAACH,MAAM,CAACI,KAAK,EAAEV,KAAK,CAAC;MACpC,CAAC,MAAM,IAAI,OAAOS,MAAM,KAAK,QAAQ,EAAE;QACrC;QACA,OAAOH,MAAM,CAACG,MAAM,EAAEC,KAAK,EAAEV,KAAK,CAAC;MACrC,CAAC,MAAM,IAAI,CAAC,CAAC,EAAEE,QAAQ,CAAC,SAAS,CAAC,EAAEO,MAAM,CAAC,KAAK,QAAQ,EAAE;QACxD,IAAI,CAACC,KAAK,CAACI,gBAAgB,EAAE,EAAE;UAC7B,MAAMC,SAAS,CAAC,iDAAiD,CAAC;QACpE;QAEA,CAAC,CAAC,EAAEX,QAAQ,CAACY,eAAe,EAAEP,MAAM,EAAEC,KAAK,CAACO,iBAAiB,EAAE,EAAEjB,KAAK,CAAC;QACvE,OAAOS,MAAM;MACf,CAAC,MAAM;QACL,MAAM,IAAIM,SAAS,CAAC,gDAAgD,CAAC;MACvE;IACF,CAAC,CAAC,OAAOG,GAAG,EAAE;MACZ,MAAM,CAAC,CAAC,EAAEf,eAAe,CAACgB,cAAc,EAAED,GAAG,CAAC;IAChD;EACF,CAAC;AACH"},"metadata":{},"sourceType":"script","externalDependencies":[]}